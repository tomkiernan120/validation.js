{"version":3,"sources":["../src/validation.js"],"names":["$","window","document","undefined","pluginName","dataKey","Plugin","element","options","spanClass","errorClass","attribute","auto","init","prototype","_self","extend","bind","e","validate","call","$this","$attr","attr","validationobject","error","length","JSON","parse","hasClass","removeClass","next","remove","toLowerCase","val","trim","minlength","parseInt","maxlength","regex","RegExp","console","log","test","creditcard","ipaddress","url","ukpostcode","uspostcode","type","message","parent","append","addClass","color","css","background","fn","plugin","data","jQuery"],"mappings":"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","file":"validation.min.js","sourcesContent":["/*\r\n *  Project: jQuery Validation plugin\r\n *  Author: Tom Kiernan\r\n *  License: Unlicense\r\n */\r\n\r\n;(function ($, window, document, undefined) {\r\n\r\n  var pluginName = \"validate\",\r\n    dataKey = \"plugin_\" + pluginName;\r\n\r\n  var Plugin = function (element, options) {\r\n\r\n    this.element = element;\r\n\r\n    this.options = {\r\n      spanClass: 'custom-validation-error',\r\n      errorClass: 'custom-validation-input-error',\r\n      attribute: 'custom-validate',\r\n      auto: true,\r\n    };\r\n\r\n    this.init(options);\r\n  };\r\n\r\n  Plugin.prototype = {\r\n    init: function (options) {\r\n      var _self = this;\r\n      $.extend(this.options, options);\r\n\r\n      this.element.bind(\"blur\", function (e) {\r\n        _self.validate.call(this, _self);\r\n      });\r\n    },\r\n\r\n    validate: function (_self) {\r\n\r\n      var $this = $(this);\r\n\r\n\r\n      var $attr = $this.attr(_self.options.attribute);\r\n      var validationobject;\r\n      var error = false;\r\n      if ($attr.length) {\r\n        validationobject = JSON.parse($this.attr(_self.options.attribute));\r\n      }\r\n\r\n      if ($this.hasClass(_self.options.errorClass)) {\r\n        $this.removeClass(_self.options.errorClass);\r\n      }\r\n\r\n      if ($this.next(\".\" + _self.options.spanClass)) {\r\n        $this.next(\".\" + _self.options.spanClass).remove();\r\n      }\r\n\r\n      if (typeof validationobject === 'object' && typeof validationobject !== 'undefined') {\r\n\r\n        // strings\r\n        if (typeof validationobject.validate !== 'undefined' && validationobject.validate.toLowerCase() === 'string') {\r\n          if (typeof $this.val().trim() !== 'string') {\r\n            error = true;\r\n          }\r\n        }\r\n\r\n        // numbers\r\n\r\n\r\n        // boolean...\r\n\r\n        // min length\r\n        if (validationobject.minlength && $this.val().trim().length < parseInt(validationobject.minlength)) {\r\n          error = true;\r\n        }\r\n\r\n\r\n        // maxlength \r\n        if (validationobject.maxlength && $this.val().trim().length > parseInt(validationobject.maxlength)) {\r\n          error = true;\r\n        }\r\n\r\n        \r\n        \r\n\r\n        // regex ...\r\n        if (validationobject.regex && validationobject.regex.length) {\r\n\r\n          // console.log();\r\n          // var regexdecode = $('<textarea />').html(validationobject.regex).text();\r\n          \r\n          var regex = new RegExp(validationobject.regex);\r\n\r\n          if( window.console ) {\r\n            console.log(regex);\r\n          }\r\n          \r\n          if (!(regex.test($this.val().trim()))) {\r\n            error = true;\r\n          }\r\n        }\r\n        \r\n\r\n        // credit cards American Express (Amex), Discover, MasterCard, and Visa \r\n        if( validationobject.creditcard ){\r\n\r\n          if (!(/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6011[0-9]{12}|622((12[6-9]|1[3-9][0-9])|([2-8][0-9][0-9])|(9(([0-1][0-9])|(2[0-5]))))[0-9]{10}|64[4-9][0-9]{13}|65[0-9]{14}|3(?:0[0-5]|[68][0-9])[0-9]{11}|3[47][0-9]{13})*$/.test($this.val()))){\r\n            error = true;\r\n          }\r\n        }\r\n\r\n        // test for IP address\r\n        if(validationobject.ipaddress){\r\n          if (!(/^((?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))*$/.test($this.val()))) {\r\n            error = true;\r\n          } \r\n        }\r\n\r\n        // test of URL\r\n        if( validationobject.url ){\r\n          if (!(/^(((http|https|ftp):\\/\\/)?([[a-zA-Z0-9]\\-\\.])+(\\.)([[a-zA-Z0-9]]){2,4}([[a-zA-Z0-9]\\/+=%&_\\.~?\\-]*))*$/.test($this.val()))){\r\n            error = true;\r\n          }\r\n        }\r\n\r\n        // test uk postcodes\r\n        if( validationobject.ukpostcode ){\r\n          if (!(/^([A-Z]{1,2}[0-9][A-Z0-9]? [0-9][ABD-HJLNP-UW-Z]{2})*$/.test($this.val()))){\r\n            error = false;\r\n          }\r\n        }\r\n\r\n        // test us postcode\r\n        if( validationobject.uspostcode ){\r\n          if (!(/^([0-9]{5}(?:-[0-9]{4})?)*$/.test($this.val()))){\r\n            error = false;\r\n          }\r\n        }\r\n\r\n        // age limit..\r\n\r\n\r\n      }\r\n\r\n      // try and test what type of input it is if nothing is set\r\n      if ($this && !error && _self.options.auto) {\r\n\r\n        var type = $this.attr( \"type\" );\r\n\r\n        \r\n      }\r\n\r\n      if (error) {\r\n\r\n        if (typeof validationobject.message !== 'undefined' && validationobject.message.length) {\r\n          $this.parent().append(\"<span class=\\\"\" + _self.options.spanClass + \"\\\">\" + validationobject.message + \"</span>\");\r\n          $this.addClass(_self.options.errorClass);\r\n        } else {\r\n          $this.parent().append(\"<span class=\\\"\" + _self.options.spanClass + \"\\\">There was an error with this field</span>\");\r\n          $this.addClass(_self.options.errorClass);\r\n        }\r\n\r\n      }\r\n\r\n      return $this;\r\n    },\r\n\r\n    color: function (color) {\r\n      this.options.color = color;\r\n      this.element.css('color', color);\r\n    },\r\n\r\n    background: function (color) {\r\n      this.options.background = color;\r\n      this.element.css('background-color', color);\r\n    }\r\n  };\r\n\r\n  /*\r\n   * Plugin wrapper, preventing against multiple instantiations and\r\n   * return plugin instance.\r\n   */\r\n  $.fn[pluginName] = function (options) {\r\n\r\n    var plugin = this.data(dataKey);\r\n\r\n    // has plugin instantiated ?\r\n    if (plugin instanceof Plugin) {\r\n      // if have options arguments, call plugin.init() again\r\n      if (typeof options !== 'undefined') {\r\n        plugin.init(options);\r\n      }\r\n    } else {\r\n      plugin = new Plugin(this, options);\r\n      this.data(dataKey, plugin);\r\n    }\r\n\r\n    return plugin;\r\n  };\r\n\r\n}(jQuery, window, document));\r\n\r\n// ;(function ($, window, undefined){\r\n//   $.fn.validate = function( options ){\r\n\r\n//     var settings = $.extend({\r\n//       spanClass: 'custom-validation-error',\r\n//       errorClass: 'custom-validation-input-error',\r\n//       attribute: 'custom-validate',\r\n//     });\r\n\r\n//     return this.each( function(){\r\n//       var $this = $(this);\r\n//       $this.call(  )\r\n//     });\r\n\r\n\r\n//   };\r\n// }(jQuery, window));\r\n"]}